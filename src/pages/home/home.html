<ion-header>
  <ion-navbar>
    <ion-title *ngIf="!isSearchbarOpen">Hikes</ion-title>
    <ion-searchbar *ngIf="isSearchbarOpen" showCancelButton="true" (keyup)="onSearch($event)" (ionCancel)="isSearchbarOpen=false"></ion-searchbar>
    <ion-buttons end>
      <button ion-button ion icon icon-only *ngIf="!isSearchbarOpen" (click)="isSearchbarOpen=true">
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content>
  <!-- Creates a progress bar with a value of 0% -->
  <div id="progressOuter">
    <div id="progressInner">0%</div>
  </div>
  <!-- Creates cards for all the items within the hikes array  -->
  <ion-card *ngFor="let item of hikes; let i=index;">
    <!-- When the card is clicked it directs you to the relevant page -->
    <button class="btn" (click)="btnHike(i)" block>
      <img [src]="item.imgsrc" style="width : 100% ; height : 100%" >
    </button>
    <ion-item>
      <ion-icon name="walk" item-start large></ion-icon>
      <!-- When the button is clicked it updates the progress bar -->
      <button (click)="completeHike(i)" class="completed"
       item-right ion-button [color]="item.completed">Completed</button>
       <!-- Relevant items from hike array are pulled onto the card -->
      <div class="hikeName">{{item.hikeName}}</div>
      <div class="hikeInfo">{{item.difficulty}} </div>
      <div class="hikeInfo">{{item.distance}}</div>
    </ion-item>
  </ion-card>
</ion-content>
